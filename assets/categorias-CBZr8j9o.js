import{a2 as w,E as o,L as l}from"./index-D4yXbplw.js";import{a as i}from"./repositorios-sGaJ6pbY.js";const C=w("categorias",()=>{const t=o([]),s=o(!1),r=o(null),u=l(()=>t.value.filter(a=>a.activa!==!1&&a.tipo_transaccion!=="ingreso")),f=l(()=>t.value.filter(a=>a.activa!==!1&&a.tipo_transaccion!=="gasto"));async function v(){s.value=!0,r.value=null;try{t.value=await i.listar(),t.value.length===0&&(await i.seed(),t.value=await i.listar())}catch(a){r.value=a.message}finally{s.value=!1}}async function g(a){const e=await i.crear(a);return t.value.push(e),e}async function d(a,e){const n=await i.actualizar(a,e),c=t.value.findIndex(p=>p._id===a);return c!==-1&&(t.value[c]=n),n}async function m(a){await i.eliminar(a);const e=t.value.findIndex(n=>n._id===a);e!==-1&&(t.value[e].activa=!1)}return{categorias:t,gastoCats:u,ingresoCats:f,cargando:s,error:r,cargar:v,crear:g,actualizar:d,eliminar:m}});export{C as u};
