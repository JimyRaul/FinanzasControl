import{_ as y,u as _,c as i,a,w as h,b as n,d as r,t as u,f as m,e as p,g as x,r as c,h as C,i as L,o as d}from"./index-D4yXbplw.js";import{s as R}from"./index-CubMQrjb.js";import{s as f}from"./index-Dd3LGBax.js";import{s as b}from"./index-DFjfE-e-.js";import"./index-DEf-bt_W.js";const N={class:"auth-page"},S={class:"auth-card card"},j={class:"field"},U={class:"field"},M={key:0,class:"error"},z={class:"field"},B={key:0,class:"error"},E={class:"field"},D={key:0,class:"error"},I={key:0,class:"auth-error"},O={class:"auth-link"},$={__name:"RegisterView",setup(q){const t=_(),g=L(),s=c({nombre:"",username:"",password:"",confirm:""}),o=c({});function w(){return Object.assign(o,{}),s.username.trim()?/\s/.test(s.username)&&(o.username="Sin espacios"):o.username="El usuario es requerido",(!s.password||s.password.length<6)&&(o.password="Mínimo 6 caracteres"),s.password!==s.confirm&&(o.confirm="Las contraseñas no coinciden"),Object.keys(o).length===0}async function k(){if(t.error=null,!w())return;await t.registrar(s.username,s.password,s.nombre)&&g.push("/")}return(V,e)=>{const v=C("RouterLink");return d(),i("div",N,[a("div",S,[e[11]||(e[11]=a("div",{class:"auth-logo"},[a("i",{class:"pi pi-user-plus"})],-1)),e[12]||(e[12]=a("h1",{class:"auth-title"},"Crear cuenta",-1)),e[13]||(e[13]=a("p",{class:"auth-sub text-muted"},"Regístrate para empezar a controlar tus finanzas",-1)),a("form",{onSubmit:h(k,["prevent"]),class:"auth-form"},[a("div",j,[e[4]||(e[4]=a("label",null,"Nombre completo",-1)),n(r(f),{modelValue:s.nombre,"onUpdate:modelValue":e[0]||(e[0]=l=>s.nombre=l),placeholder:"ej. Juan Pérez",disabled:r(t).cargando,fluid:""},null,8,["modelValue","disabled"])]),a("div",U,[e[5]||(e[5]=a("label",null,"Usuario *",-1)),n(r(f),{modelValue:s.username,"onUpdate:modelValue":e[1]||(e[1]=l=>s.username=l),placeholder:"ej. juan123 (sin espacios)",disabled:r(t).cargando,fluid:"",autocomplete:"username"},null,8,["modelValue","disabled"]),o.username?(d(),i("small",M,u(o.username),1)):m("",!0)]),a("div",z,[e[6]||(e[6]=a("label",null,"Contraseña *",-1)),n(r(b),{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=l=>s.password=l),placeholder:"mínimo 6 caracteres",feedback:!0,toggleMask:"",disabled:r(t).cargando,fluid:"",inputStyle:"width:100%",autocomplete:"new-password",promptLabel:"Escribe una contraseña",weakLabel:"Débil",mediumLabel:"Normal",strongLabel:"Fuerte"},null,8,["modelValue","disabled"]),o.password?(d(),i("small",B,u(o.password),1)):m("",!0)]),a("div",E,[e[7]||(e[7]=a("label",null,"Confirmar contraseña *",-1)),n(r(b),{modelValue:s.confirm,"onUpdate:modelValue":e[3]||(e[3]=l=>s.confirm=l),placeholder:"repite la contraseña",feedback:!1,toggleMask:"",disabled:r(t).cargando,fluid:"",inputStyle:"width:100%",autocomplete:"new-password"},null,8,["modelValue","disabled"]),o.confirm?(d(),i("small",D,u(o.confirm),1)):m("",!0)]),r(t).error?(d(),i("p",I,[e[8]||(e[8]=a("i",{class:"pi pi-exclamation-circle"},null,-1)),p(" "+u(r(t).error),1)])):m("",!0),n(r(R),{label:"Crear cuenta",icon:"pi pi-check",type:"submit",loading:r(t).cargando,class:"auth-btn",fluid:""},null,8,["loading"])],32),a("p",O,[e[10]||(e[10]=p(" ¿Ya tienes cuenta? ",-1)),n(v,{to:"/login"},{default:x(()=>[...e[9]||(e[9]=[p("Inicia sesión",-1)])]),_:1})])])])}}},Y=y($,[["__scopeId","data-v-89aac56f"]]);export{Y as default};
