import{_ as f,u as g,c as n,a as o,w as b,b as r,d as a,e as l,t as w,f as V,g as k,r as v,h as _,i as x,o as u}from"./index-D4yXbplw.js";import{s as C}from"./index-CubMQrjb.js";import{s as h}from"./index-Dd3LGBax.js";import{s as y}from"./index-DFjfE-e-.js";import"./index-DEf-bt_W.js";const L={class:"auth-page"},N={class:"auth-card card"},R={class:"field"},S={class:"field"},B={key:0,class:"auth-error"},I={class:"auth-link"},U={__name:"LoginView",setup(M){const e=g(),d=x(),t=v({username:"",password:""});async function p(){if(e.error=null,!t.username.trim()||!t.password){e.error="Completa todos los campos";return}await e.login(t.username,t.password)&&d.push("/")}return(m,s)=>{const c=_("RouterLink");return u(),n("div",L,[o("div",N,[s[7]||(s[7]=o("div",{class:"auth-logo"},[o("i",{class:"pi pi-wallet"})],-1)),s[8]||(s[8]=o("h1",{class:"auth-title"},"FinanzasControl",-1)),s[9]||(s[9]=o("p",{class:"auth-sub text-muted"},"Inicia sesión para continuar",-1)),o("form",{onSubmit:b(p,["prevent"]),class:"auth-form"},[o("div",R,[s[2]||(s[2]=o("label",null,"Usuario",-1)),r(a(h),{modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=i=>t.username=i),placeholder:"tu usuario",disabled:a(e).cargando,fluid:"",autocomplete:"username"},null,8,["modelValue","disabled"])]),o("div",S,[s[3]||(s[3]=o("label",null,"Contraseña",-1)),r(a(y),{modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=i=>t.password=i),placeholder:"••••••••",feedback:!1,toggleMask:"",disabled:a(e).cargando,fluid:"",inputStyle:"width:100%",autocomplete:"current-password"},null,8,["modelValue","disabled"])]),a(e).error?(u(),n("p",B,[s[4]||(s[4]=o("i",{class:"pi pi-exclamation-circle"},null,-1)),l(" "+w(a(e).error),1)])):V("",!0),r(a(C),{label:"Iniciar sesión",icon:"pi pi-sign-in",type:"submit",loading:a(e).cargando,class:"auth-btn",fluid:""},null,8,["loading"])],32),o("p",I,[s[6]||(s[6]=l(" ¿No tienes cuenta? ",-1)),r(c,{to:"/registro"},{default:k(()=>[...s[5]||(s[5]=[l("Regístrate",-1)])]),_:1})])])])}}},F=f(U,[["__scopeId","data-v-5d583f5b"]]);export{F as default};
